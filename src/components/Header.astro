---
import SquareIcon from "./SquareIcon.astro";

const navItems = [
  { label: "Blog", href: "/blog", isExternal: false },
  { label: "Projects", href: "/projects", isExternal: false },
  { label: "Recipes", href: "/recipes", isExternal: false },
  { label: "Music", href: "https://open.spotify.com/artist/4musCItyvLBJYaHClwbTLd", isExternal: true },
  { label: "About", href: "/about", isExternal: false },
];
---

<header class="sticky top-0 z-50 w-full border-b backdrop-blur-xl">
  <div class="mx-auto max-w-4xl px-4">
    <nav class="flex h-16 items-center justify-between">
      <!-- Logo/Brand -->
       <div class="flex items-center gap-2 text-3xl">
         <SquareIcon/>
               <a href="/" class=" font-bold font-serif">
          Luke Melnik
               </a>
       </div>

      <!-- Mobile Menu Button -->
      <button
        id="menu-toggle"
        class="md:hidden"
        aria-label="Toggle menu"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>

      <!-- Desktop Navigation -->
      <ul class="hidden md:flex md:gap-8">
        {navItems.map(({ label, href, isExternal }) => (
          <li>
            <a
              href={href}
              class="transition-colors"
              {...isExternal && { 
                target: "_blank", 
                rel: "noopener noreferrer" 
              }}
            >
              {label}
            </a>
          </li>
        ))}
      </ul>

      <!-- Mobile Navigation -->
      <div
        id="mobile-menu"
        class="hidden absolute top-16 left-0 right-0 bg-white border-b md:hidden"
      >
        <ul class="px-4 py-2">
          {navItems.map(({ label, href, isExternal }) => (
            <li>
              <a
                href={href}
                class="block py-2"
                {...isExternal && { 
                  target: "_blank", 
                  rel: "noopener noreferrer" 
                }}
              >
                {label}
              </a>
            </li>
          ))}
        </ul>
      </div>
    </nav>
  </div>
</header>

<script>
  // Mobile menu toggle
  const menuToggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');

  menuToggle?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });
</script> 