---
import { Menu, X } from "lucide-react";
import SquareIcon from "./SquareIcon.astro";

const navItems = [
  { label: "Blog", href: "/blog", isExternal: false },
  { label: "Projects", href: "/projects", isExternal: false },
  { label: "Recipes", href: "/recipes", isExternal: false },
  { label: "Music", href: "https://open.spotify.com/artist/4musCItyvLBJYaHClwbTLd", isExternal: true },
  { label: "About", href: "/about", isExternal: false },
];
---

<header class="sticky top-0 z-50 w-full border-b backdrop-blur-xl">
  <div class="mx-auto max-w-4xl px-4">
    <nav class="flex h-16 items-center justify-between">
      <!-- Logo/Brand -->
       <div class="flex items-center gap-2 text-3xl hover:text-amber-600 transition-colors duration-300 group">
         <span class="animate-spin-slow">
           <SquareIcon />
         </span>
               <a href="/" class=" font-bold font-serif ">
          Luke Melnik
               </a>
       </div>

      <!-- Mobile Menu Button -->
      <button
        id="menu-toggle"
        class="md:hidden"
        aria-label="Toggle menu"
      >
        <span id="menu-icon"><Menu /></span>
        <span id="close-icon" class="hidden"><X /></span>
      </button>

      <!-- Desktop Navigation -->
      <ul class="hidden md:flex md:gap-8">
        {navItems.map(({ label, href, isExternal }) => (
          <li>
            <a
              href={href}
              class="transition-colors hover:text-amber-600 duration-300 group relative"
              {...isExternal && { 
                target: "_blank", 
                rel: "noopener noreferrer" 
              }}
            >
              <span class="group-hover:opacity-100 opacity-0 transition-opacity duration-300 absolute -left-4 ">â€¢</span>
              {label}
            </a>
          </li>
        ))}
      </ul>

      <!-- Mobile Navigation -->
      <div
        id="mobile-menu"
        class="hidden absolute h-svh left-0 right-0 top-16 bg-background border-b md:hidden"
      >
        <ul class="px-4 py-2 text-2xl">
          {navItems.map(({ label, href, isExternal }) => (
            <li>
              <a
                href={href}
                class="block py-2"
                {...isExternal && { 
                  target: "_blank", 
                  rel: "noopener noreferrer" 
                }}
              >
                {label}
              </a>
            </li>
          ))}
        </ul>
      </div>
    </nav>
  </div>
</header>

<script>
  // Mobile menu toggle
  const menuToggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIcon = document.getElementById('menu-icon');
  const closeIcon = document.getElementById('close-icon');

  menuToggle?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
    menuIcon?.classList.toggle('hidden');
    closeIcon?.classList.toggle('hidden');
  });
</script> 